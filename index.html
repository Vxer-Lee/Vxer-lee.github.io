<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"8.0.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}};
  </script>

  <meta name="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
<meta property="og:type" content="website">
<meta property="og:title" content="Lee&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Lee&#39;s Blog">
<meta property="og:description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="fucklee">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Lee's Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Lee's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">ä¸“æ³¨é€†å‘ã€ç½‘ç»œå®‰å…¨</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">15</span></a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>æ—¥ç¨‹è¡¨</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>ç«™ç‚¹åœ°å›¾</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>å…¬ç›Š 404</a>

  </li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="fucklee"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">fucklee</p>
  <div class="site-description" itemprop="description">å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">15</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
  </nav>
</div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">
      

      
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/12/05/ios-frida%E7%B3%BB%E5%88%97-hack%E7%9A%84MacBook%20Pro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/05/ios-frida%E7%B3%BB%E5%88%97-hack%E7%9A%84MacBook%20Pro/" class="post-title-link" itemprop="url">ios-fridaç³»åˆ—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-12-05 23:20:02" itemprop="dateCreated datePublished" datetime="2020-12-05T23:20:02+08:00">2020-12-05</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:12:02" itemprop="dateModified" datetime="2021-04-19T14:12:02+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="0x00-fridaå®¢æˆ·ç«¯å®‰è£…"><a href="#0x00-fridaå®¢æˆ·ç«¯å®‰è£…" class="headerlink" title="#0x00 fridaå®¢æˆ·ç«¯å®‰è£…"></a>#0x00 fridaå®¢æˆ·ç«¯å®‰è£…</h3><p><a target="_blank" rel="noopener" href="https://github.com/frida/frida">https://github.com/frida/frida</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®ä»£ç†</span></span><br><span class="line"><span class="built_in">export</span> http_proxy=http://127.0.0.1:1080;<span class="built_in">export</span> https_proxy=http://127.0.0.1:1080;</span><br><span class="line"><span class="comment">#å®‰è£…fridaæ¨¡å—</span></span><br><span class="line">pip3 install frida</span><br><span class="line"><span class="comment">#å®‰è£…frida-toolså·¥å…·</span></span><br><span class="line">pip3 install frida-tools</span><br></pre></td></tr></table></figure>

<h3 id="0x01-fridaæœåŠ¡ç«¯å®‰è£…"><a href="#0x01-fridaæœåŠ¡ç«¯å®‰è£…" class="headerlink" title="#0x01 fridaæœåŠ¡ç«¯å®‰è£…"></a>#0x01 fridaæœåŠ¡ç«¯å®‰è£…</h3><p>æ‰‹æœºè¶Šç‹±</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ·»åŠ æº</span></span><br><span class="line">http://build.frida.re</span><br><span class="line"><span class="comment">#æ ¹æ®è‡ªèº«è®¾å¤‡å®‰è£…å¯¹åº”frida-server  (iPhone7)</span></span><br><span class="line">Frida <span class="keyword">for</span> pre-A12 devices</span><br><span class="line"><span class="comment">#é‡å¯SpringBoard</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/12/05/ios-frida%E7%B3%BB%E5%88%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/05/ios-frida%E7%B3%BB%E5%88%97/" class="post-title-link" itemprop="url">ios-fridaç³»åˆ—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-12-05 23:20:02" itemprop="dateCreated datePublished" datetime="2020-12-05T23:20:02+08:00">2020-12-05</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:12:02" itemprop="dateModified" datetime="2021-04-19T14:12:02+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="0x00-fridaå®¢æˆ·ç«¯å®‰è£…"><a href="#0x00-fridaå®¢æˆ·ç«¯å®‰è£…" class="headerlink" title="#0x00 fridaå®¢æˆ·ç«¯å®‰è£…"></a>#0x00 fridaå®¢æˆ·ç«¯å®‰è£…</h3><p><a target="_blank" rel="noopener" href="https://github.com/frida/frida">https://github.com/frida/frida</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®ä»£ç†</span></span><br><span class="line"><span class="built_in">export</span> http_proxy=http://127.0.0.1:1080;<span class="built_in">export</span> https_proxy=http://127.0.0.1:1080;</span><br><span class="line"><span class="comment">#å®‰è£…fridaæ¨¡å—</span></span><br><span class="line">pip3 install frida</span><br><span class="line"><span class="comment">#å®‰è£…frida-toolså·¥å…·</span></span><br><span class="line">pip3 install frida-tools</span><br></pre></td></tr></table></figure>

<h3 id="0x01-fridaæœåŠ¡ç«¯å®‰è£…"><a href="#0x01-fridaæœåŠ¡ç«¯å®‰è£…" class="headerlink" title="#0x01 fridaæœåŠ¡ç«¯å®‰è£…"></a>#0x01 fridaæœåŠ¡ç«¯å®‰è£…</h3><p>æ‰‹æœºè¶Šç‹±</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ·»åŠ æº</span></span><br><span class="line">http://build.frida.re</span><br><span class="line"><span class="comment">#æ ¹æ®è‡ªèº«è®¾å¤‡å®‰è£…å¯¹åº”frida-server  (iPhone7)</span></span><br><span class="line">Frida <span class="keyword">for</span> pre-A12 devices</span><br><span class="line"><span class="comment">#é‡å¯SpringBoard</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/19/rust%E5%AD%A6%E4%B9%A0-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-hack%E7%9A%84MacBook%20Pro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/19/rust%E5%AD%A6%E4%B9%A0-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-hack%E7%9A%84MacBook%20Pro/" class="post-title-link" itemprop="url">rustå­¦ä¹ -åŸºç¡€è¯­æ³•</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-19 09:48:51" itemprop="dateCreated datePublished" datetime="2020-09-19T09:48:51+08:00">2020-09-19</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:12:02" itemprop="dateModified" datetime="2021-04-19T14:12:02+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h4 id="å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰"><a href="#å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰" class="headerlink" title="#å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰"></a>#å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//fn ç”¨æ¥å£°æ˜æˆ–è€…å®šä¹‰ä¸€ä¸ªå‡½æ•°å. </span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="comment">//èŠ±æ‹¬å·ä¸­ç”¨æ¥å†™ä»£ç </span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;å‡½æ•°å…·ä½“å®ç°çš„åŠŸèƒ½.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å‡½æ•°å¸¦å‚æ•°å®šä¹‰å’Œè°ƒç”¨"><a href="#å‡½æ•°å¸¦å‚æ•°å®šä¹‰å’Œè°ƒç”¨" class="headerlink" title="#å‡½æ•°å¸¦å‚æ•°å®šä¹‰å’Œè°ƒç”¨"></a>#å‡½æ•°å¸¦å‚æ•°å®šä¹‰å’Œè°ƒç”¨</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//fn å¸¦å‚æ•°çš„å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>(x:<span class="built_in">i32</span>,y:<span class="built_in">i32</span>)&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;å‚æ•°:&#123;&#125;,&#123;&#125;&quot;</span>,x,y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è¯­å¥å’Œè¡¨è¾¾å¼"><a href="#è¯­å¥å’Œè¡¨è¾¾å¼" class="headerlink" title="#è¯­å¥å’Œè¡¨è¾¾å¼"></a>#è¯­å¥å’Œè¡¨è¾¾å¼</h4><p>è¯­å¥ï¼š  (è¯­å¥ä»–ä¸è¿”å›ä»»ä½•å€¼)</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;<span class="comment">//å‡½æ•°å®šä¹‰ä¹Ÿæ˜¯ä¸€ä¸ªè¯­å¥</span></span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">4</span>;<span class="comment">//è¿™å°±æ˜¯ä¸€ä¸ªè¯­å¥</span></span><br><span class="line">&#125;<span class="comment">//è¿™ä¸€æ•´æ®µä»£ç éƒ½æ˜¯ä¸€ä¸ªè¯­å¥.</span></span><br></pre></td></tr></table></figure>
<p>è¡¨è¾¾å¼:ï¼ˆè®¡ç®—å’Œå‡½æ•°è°ƒç”¨æ˜¯ä¸ªè¡¨è¾¾å¼,{}ä¹Ÿæ˜¯ï¼‰</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="comment">//è¿™é‡Œæ˜¯ä¸€ä¸ªè¯­å¥ï¼Œå®šä¹‰xèµ‹å€¼5</span></span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//è¿™ä¸ªlet y = xxä¹Ÿæ˜¯ä¸€ä¸ªè¯­å¥</span></span><br><span class="line">   <span class="comment">//&#123;&#125;é‡Œé¢æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼,è¡¨è¾¾å¼ä¸èƒ½æœ‰;</span></span><br><span class="line">    <span class="keyword">let</span> y = &#123;</span><br><span class="line">        <span class="keyword">let</span> x = <span class="number">666</span>;</span><br><span class="line">        <span class="comment">//æ‰€ä»¥æˆ‘åœ¨è¿™é‡ŒåŠ äº†ä¸ªx</span></span><br><span class="line">        x</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;xçš„å€¼=&#123;&#125;&quot;</span>,x);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;yçš„å€¼=&#123;&#125;&quot;</span>,y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å¸¦è¿”å›å€¼å’Œå‚æ•°çš„å‡½æ•°"><a href="#å¸¦è¿”å›å€¼å’Œå‚æ•°çš„å‡½æ•°" class="headerlink" title="#å¸¦è¿”å›å€¼å’Œå‚æ•°çš„å‡½æ•°"></a>#å¸¦è¿”å›å€¼å’Œå‚æ•°çš„å‡½æ•°</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> x = function_RetnAndParameter(<span class="number">22</span>,<span class="number">51</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//# è¿™é‡Œå¿…é¡»éœ€è¦ ç®­å¤´æŒ‡æ˜ç±»å‹ è¿”å›å€¼çš„ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">function_RetnAndParameter</span></span>(x:<span class="built_in">i32</span>,y:<span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span>&#123;</span><br><span class="line">    <span class="comment">//å…·ä½“è¿”å›(x+1)*(y+1)çš„å€¼</span></span><br><span class="line">    (x+<span class="number">1</span>)*(y+<span class="number">1</span>)<span class="comment">//æ³¨æ„è¿™é‡Œä¸€å®šä¸èƒ½åŠ åˆ†å·ï¼Œè¿™æ ·å°±å˜æˆè¡¨è¾¾å¼äº†.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ§åˆ¶æµ-if-elseã€forã€loopã€while"><a href="#æ§åˆ¶æµ-if-elseã€forã€loopã€while" class="headerlink" title="æ§åˆ¶æµ(if elseã€forã€loopã€while)"></a>æ§åˆ¶æµ(if elseã€forã€loopã€while)</h2><h4 id="if-else"><a href="#if-else" class="headerlink" title="#if else"></a>#if else</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">6</span>;</span><br><span class="line">    <span class="keyword">if</span> x &lt; <span class="number">2</span>&#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;xå±…ç„¶æ¯”2è¿˜è¦å°&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;xå±…ç„¶æ¯”2è¿˜è¦å¤§&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç»“æœ:</span></span><br><span class="line">xå±…ç„¶æ¯”<span class="number">2</span>è¿˜è¦å¤§</span><br><span class="line"></span><br><span class="line">ps:(<span class="keyword">if</span> åˆ¤æ–­åé¢åªèƒ½å†™é€»è¾‘ç±»å‹ï¼Œå¦‚æœå†™çš„æ˜¯ä¸ªæ•´æ•°ç±»å‹ï¼Œæˆ–è€…å…¶ä»–ç±»å‹åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸)</span><br><span class="line"><span class="keyword">if</span> x&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;è¿™æ ·å†™å°±ä¸å¯¹ï¼Œå› ä¸ºxæ˜¯æ•´æ•°ç±»å‹ï¼Œiféœ€è¦é€»è¾‘ç±»å‹æ‰è¡Œ.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="for"><a href="#for" class="headerlink" title="#for"></a>#for</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨forå¾ªç¯æ¥éå†é›†åˆ</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="comment">//å®šä¹‰ä¸€ä¸ªé›†åˆ</span></span><br><span class="line">    <span class="keyword">let</span> a = [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span>,<span class="number">80</span>,<span class="number">90</span>];</span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> a.iter()&#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;æ¯ä¸ªé›†åˆçš„æ•°æ®:&#123;&#125;&quot;</span>,element);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨forå¾ªç¯ç‰¹å®šçš„æ¬¡æ•°</span></span><br><span class="line"><span class="keyword">in</span> (range)</span><br><span class="line"><span class="comment">//æ„æ€å°±æ˜¯ä»1å¼€å§‹åˆ°4ç»“æŸ ï¼Œé‚£ä¹Ÿå°±æ˜¯æ‰§è¡Œ4æ¬¡å§ï¼Ÿ</span></span><br><span class="line"><span class="keyword">for</span> number <span class="keyword">in</span> (<span class="number">1</span>..<span class="number">4</span>).rev()&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;çœ‹çœ‹å¾ªç¯å‡ æ¬¡&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="loop"><a href="#loop" class="headerlink" title="#loop"></a>#loop</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™ä¸ªloopæœ‰ç‚¹æ„æ€ï¼Œå°±æ˜¯æ­»å¾ªç¯</span></span><br><span class="line"><span class="keyword">loop</span>&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æˆ‘å¥½åƒä¼šè¢«ä¸€ç›´æ‰§è¡Œä¸‹å»!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æˆ–è€…æ˜¯ç”¨breakæ¥è·³å‡º</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//ä¸å‡ºæ„å¤– xåº”è¯¥æ˜¯è¢«èµ‹å€¼ä¸º10</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="keyword">loop</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> i &lt; <span class="number">10</span>&#123;</span><br><span class="line">        i+=<span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">break</span> i;<span class="comment">//è¿™ä¸ªbreakæœ‰ç‚¹æ„æ€ å±…ç„¶å’Œreturn å·®ä¸å¤šèƒ½è¿”å›å€¼.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;<span class="comment">//è¿™é‡Œ&#123;&#125;é‡Œé¢åº”è¯¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼</span></span><br></pre></td></tr></table></figure>
<h4 id="While"><a href="#While" class="headerlink" title="#While"></a>#While</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªå‚æ•°æ˜¯å¯å˜ç±»å‹int,è¿”å›å€¼ä¹Ÿæ˜¯intçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">while_demo_function</span></span>(<span class="keyword">mut</span> x:<span class="built_in">i32</span>) -&gt; <span class="built_in">i32</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> x &lt; <span class="number">5</span>&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœä¼ è¿›æ¥çš„xå°äº5å°±å¾ªç¯5æ¬¡</span></span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;æˆ‘å€’è¦çœ‹çœ‹ï¼Œæˆ‘è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡!&quot;</span>);</span><br><span class="line">        x = x + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è®©å…¶æ²¡æœ‰ç»“å°¾ï¼Œå˜æˆä¸€ä¸ªè¡¨è¾¾å¼</span></span><br><span class="line">    x <span class="comment">//è¿”å›x</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> x = while_demo_function(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;x = &#123;&#125;&quot;</span>,x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿è¡Œç»“æœï¼š</span></span><br><span class="line">æˆ‘å€’è¦çœ‹çœ‹ï¼Œæˆ‘è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡!</span><br><span class="line">æˆ‘å€’è¦çœ‹çœ‹ï¼Œæˆ‘è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡!</span><br><span class="line">æˆ‘å€’è¦çœ‹çœ‹ï¼Œæˆ‘è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡!</span><br><span class="line">æˆ‘å€’è¦çœ‹çœ‹ï¼Œæˆ‘è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡!</span><br><span class="line">æˆ‘å€’è¦çœ‹çœ‹ï¼Œæˆ‘è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡!</span><br><span class="line">x = <span class="number">5</span></span><br></pre></td></tr></table></figure>
<h4 id="Switch"><a href="#Switch" class="headerlink" title="#Switch"></a>#Switch</h4>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/19/rust%E5%AD%A6%E4%B9%A0-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/19/rust%E5%AD%A6%E4%B9%A0-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="post-title-link" itemprop="url">rustå­¦ä¹ -æ•°æ®ç±»å‹</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-19 09:48:35" itemprop="dateCreated datePublished" datetime="2020-09-19T09:48:35+08:00">2020-09-19</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:12:02" itemprop="dateModified" datetime="2021-04-19T14:12:02+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h4><p>rustä¸­æ‰€æœ‰å˜é‡é»˜è®¤éƒ½æ˜¯ä¸å¯å˜çš„ä¸èƒ½éœ€æ”¹å…¶å€¼ï¼Œå¦‚æœéœ€è¦è®©å˜é‡å˜çš„å¯æ›´æ”¹ï¼Œåˆ™éœ€è¦æ·»åŠ <code>mut</code>å…³é”®å­—</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> variable = <span class="number">26</span>;</span><br><span class="line">variable = <span class="number">27</span>; <span class="comment">//âŒå†™æ³•,å› ä¸ºrusté»˜è®¤å˜é‡ä¸å¯å˜ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> variable = <span class="number">26</span>;</span><br><span class="line">variable = <span class="number">27</span>;<span class="comment">//âœ… æ­£ç¡®çš„å†™æ³•ã€‚</span></span><br></pre></td></tr></table></figure>

<h4 id="éšè—ï¼ˆShadowingï¼‰"><a href="#éšè—ï¼ˆShadowingï¼‰" class="headerlink" title="éšè—ï¼ˆShadowingï¼‰"></a>éšè—ï¼ˆShadowingï¼‰</h4><p>æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªä¸ä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œè€Œæ–°å˜é‡ä¼š <strong>éšè—</strong> ä¹‹å‰çš„å˜é‡ã€‚Rustaceanï¼ˆrustç¨‹åºå‘˜ï¼‰ ä»¬ç§°ä¹‹ä¸ºç¬¬ä¸€ä¸ªå˜é‡è¢«ç¬¬äºŒä¸ª <strong>éšè—</strong> äº†ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨è¿™ä¸ªå˜é‡æ—¶ä¼šçœ‹åˆ°ç¬¬äºŒä¸ªå€¼ã€‚å¯ä»¥ç”¨ç›¸åŒå˜é‡åç§°æ¥éšè—ä¸€ä¸ªå˜é‡ï¼Œä»¥åŠé‡å¤ä½¿ç”¨ <code>let</code> å…³é”®å­—æ¥å¤šæ¬¡éšè—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šï¼ˆ<code>å°±æ˜¯è¯´å˜é‡å¯ä»¥åŒåï¼Œå¹¶ä¸”æˆ–è¦†ç›–ä¸Šä¸€å±‚åŒåå˜é‡å±æ€§ä¸å€¼</code>ï¼‰</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">let</span> x = x + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> x = x * <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The value of x is: &#123;&#125;&quot;</span>, x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ•´å‹"><a href="#æ•´å‹" class="headerlink" title="æ•´å‹"></a>æ•´å‹</h4><p><code>æ•´æ•°</code> æ˜¯ä¸€ä¸ªæ²¡æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ã€‚æˆ‘ä»¬åœ¨ç¬¬äºŒç« ä½¿ç”¨è¿‡ <code>u32</code> æ•´æ•°ç±»å‹ã€‚è¯¥ç±»å‹å£°æ˜è¡¨æ˜ï¼Œå®ƒå…³è”çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªå æ® 32 æ¯”ç‰¹ä½çš„æ— ç¬¦å·æ•´æ•°ï¼ˆæœ‰ç¬¦å·æ•´æ•°ç±»å‹ä»¥ <code>i</code> å¼€å¤´è€Œä¸æ˜¯ <code>u</code>ï¼‰ã€‚è¡¨æ ¼ 3-1 å±•ç¤ºäº† Rust å†…å»ºçš„æ•´æ•°ç±»å‹ã€‚åœ¨æœ‰ç¬¦å·åˆ—å’Œæ— ç¬¦å·åˆ—ä¸­çš„æ¯ä¸€ä¸ªå˜ä½“ï¼ˆä¾‹å¦‚ï¼Œ<code>i16</code>ï¼‰éƒ½å¯ä»¥ç”¨æ¥å£°æ˜æ•´æ•°å€¼çš„ç±»å‹ã€‚</p>
<p>è¡¨æ ¼ 3-1: Rust ä¸­çš„æ•´å‹</p>
<table>
<thead>
<tr>
<th align="center">é•¿åº¦</th>
<th align="center">æœ‰ç¬¦å·</th>
<th align="center">æ— ç¬¦å·</th>
</tr>
</thead>
<tbody><tr>
<td align="center">8-bitï¼ˆbyteï¼‰1byte</td>
<td align="center">i8</td>
<td align="center">u8</td>
</tr>
<tr>
<td align="center">16-bitï¼ˆwordï¼‰2byte</td>
<td align="center">i16</td>
<td align="center">u16</td>
</tr>
<tr>
<td align="center">32-bitï¼ˆintï¼‰ 4byte</td>
<td align="center">i32</td>
<td align="center">u32</td>
</tr>
<tr>
<td align="center">64-bitï¼ˆint64ï¼‰8byte</td>
<td align="center">i64</td>
<td align="center">u64</td>
</tr>
<tr>
<td align="center">128-bit</td>
<td align="center">i128</td>
<td align="center">u128</td>
</tr>
<tr>
<td align="center">arch(32ã€64int)</td>
<td align="center">isize</td>
<td align="center">usize</td>
</tr>
</tbody></table>
<p>å¯ä»¥ä½¿ç”¨è¡¨æ ¼ 3-2 ä¸­çš„ä»»ä½•ä¸€ç§å½¢å¼ç¼–å†™æ•°å­—å­—é¢å€¼ã€‚æ³¨æ„é™¤ byte ä»¥å¤–çš„æ‰€æœ‰æ•°å­—å­—é¢å€¼å…è®¸ä½¿ç”¨ç±»å‹åç¼€ï¼Œä¾‹å¦‚ <code>57u8</code>ï¼ŒåŒæ—¶ä¹Ÿå…è®¸ä½¿ç”¨ <code>_</code> åšä¸ºåˆ†éš”ç¬¦ä»¥æ–¹ä¾¿è¯»æ•°ï¼Œä¾‹å¦‚<code>1_000</code>ã€‚</p>
<p>è¡¨æ ¼ 3-2: Rust ä¸­çš„æ•´å‹å­—é¢å€¼</p>
<table>
<thead>
<tr>
<th align="center">æ•°å­—å­—é¢å€¼</th>
<th align="center"><strong>ä¾‹å­</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">Decimal (åè¿›åˆ¶)</td>
<td align="center"><code>2020_09_20</code></td>
</tr>
<tr>
<td align="center">Hex (åå…­è¿›åˆ¶)</td>
<td align="center"><code>0xff</code></td>
</tr>
<tr>
<td align="center">Octal (å…«è¿›åˆ¶)</td>
<td align="center"><code>0o77</code></td>
</tr>
<tr>
<td align="center">Binary (äºŒè¿›åˆ¶)</td>
<td align="center"><code>0b1111_0000</code></td>
</tr>
<tr>
<td align="center">Byte (å•å­—èŠ‚å­—ç¬¦)(ä»…é™äº<code>u8</code>)</td>
<td align="center"><code>b&#39;A&#39;</code></td>
</tr>
</tbody></table>
<h4 id="å¸ƒå°”å‹ï¼ˆboolï¼‰"><a href="#å¸ƒå°”å‹ï¼ˆboolï¼‰" class="headerlink" title="å¸ƒå°”å‹ï¼ˆboolï¼‰"></a>å¸ƒå°”å‹ï¼ˆboolï¼‰</h4><p>æ­£å¦‚å…¶ä»–å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒRust ä¸­çš„å¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼š<code>true</code> å’Œ <code>false</code>ã€‚Rust ä¸­çš„å¸ƒå°”ç±»å‹ä½¿ç”¨ <code>bool</code> è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š<code>rustä¸­å¦‚æœè¦æ˜¾å¼çš„å®šä¹‰ä¸ªå˜é‡ï¼Œå¯ä»¥åœ¨å˜é‡åååŠ å†’å·ï¼šåŠ ç±»å‹</code></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> t = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">let</span> f: <span class="built_in">bool</span> = <span class="literal">false</span>; <span class="comment">// æ˜¾å¼æŒ‡å®šç±»å‹æ³¨è§£</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="å­—ç¬¦ç±»å‹"><a href="#å­—ç¬¦ç±»å‹" class="headerlink" title="å­—ç¬¦ç±»å‹"></a>å­—ç¬¦ç±»å‹</h4><p>Rust çš„ <code>char</code> ç±»å‹æ˜¯è¯­è¨€ä¸­æœ€åŸç”Ÿçš„å­—æ¯ç±»å‹ï¼Œå¦‚ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å®ƒã€‚ï¼ˆæ³¨æ„ <code>char</code> ç”±å•å¼•å·æŒ‡å®šï¼Œä¸åŒäºå­—ç¬¦ä¸²ä½¿ç”¨åŒå¼•å·ã€‚ï¼‰<code>Rust çš„ char ç±»å‹çš„å¤§å°ä¸ºå››ä¸ªå­—èŠ‚(four bytes)ï¼Œå¹¶ä»£è¡¨äº†ä¸€ä¸ª Unicode æ ‡é‡å€¼ï¼ˆUnicode Scalar Valueï¼‰</code></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> c = <span class="string">&#x27;z&#x27;</span>;<span class="comment">//ä¸€ä¸ªchar å…¶å®ç±»ä¼¼äºu32 4ä¸ªå­—èŠ‚.</span></span><br><span class="line">    <span class="keyword">let</span> z = <span class="string">&#x27;â„¤&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> heart_eyed_cat = &#x27;ğŸ˜»&#x27;;<span class="comment">//æ‰€ä»¥èƒ½è¾“å‡ºè¿™ç§è¡¨æƒ…</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>

<h4 id="å¤åˆç±»å‹"><a href="#å¤åˆç±»å‹" class="headerlink" title="å¤åˆç±»å‹"></a>å¤åˆç±»å‹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆç±»å‹ å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚Rustæœ‰ä¸¤ä¸ªåŸç”Ÿçš„å¤åˆç±»å‹:å…ƒç»„ æ•°ç»„</span><br></pre></td></tr></table></figure>
<p>ä¸€ã€å…ƒç»„<br>ç®€ä»‹ï¼šæˆ‘æ˜¯ä¸€ä¸ªå°†ç­‰å¤šä¸ªå…¶ä»–ç±»å‹çš„å€¼ ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»å‹çš„ä¸»è¦æ–¹å¼ã€‚<br>æˆ‘çš„é•¿åº¦å›ºå®šï¼šä¸€æ—¦å£°æ˜ï¼Œå…¶é•¿åº¦ä¸ä¼šå¢å¤§æˆ–ç¼©å°<br>ps:(é‚£ä¸æ˜¯å’Œæ•°ç»„æ˜¯ä¸€æ ·çš„æ¦‚å¿µä¹ˆ) â€“æ±‡ç¼–è§’åº¦ï¼šå…¶å®å°±æ˜¯ä¸€ä¸ªæ ˆå’¯ã€‚  </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fuhe: (<span class="built_in">u8</span>,<span class="built_in">i32</span>,<span class="built_in">isize</span>,<span class="built_in">f64</span>) = (<span class="number">0x5</span>,<span class="number">2021_01_02</span>,<span class="number">6666666_66</span>,<span class="number">666666.6666</span>);</span><br><span class="line"><span class="keyword">let</span> (a,b,c,d) = fuhe;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;å•å­—èŠ‚:&#123;&#125;&quot;</span>,a);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;æ•´å‹:&#123;&#125;&quot;</span>,b);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;å…¼å®¹æ•´å‹:&#123;&#125;&quot;</span>,c);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;æµ®ç‚¹ç±»å‹:&#123;&#125;&quot;</span>,d);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…ƒç»„æ•°æ®ç±»å‹è®¿é—® æ•°æ®çš„æ–¹å¼ï¼Œå…ƒç»„çš„å˜é‡ååŠ . æ¥è®¿é—®æ•°æ®</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;è¾“å‡ºå…ƒç¥–ä¸‹æ ‡:&#123;&#125;&quot;</span>,fuhe.<span class="number">0</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;è¾“å‡ºå…ƒç¥–ä¸‹æ ‡:&#123;&#125;&quot;</span>,fuhe.<span class="number">1</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;è¾“å‡ºå…ƒç¥–ä¸‹æ ‡:&#123;&#125;&quot;</span>,fuhe.<span class="number">2</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;è¾“å‡ºå…ƒç¥–ä¸‹æ ‡:&#123;&#125;&quot;</span>,fuhe.<span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<br/>
<br/>

<p>äºŒã€æ•°ç»„<br>æ•°ç»„ï¼ˆarrayï¼‰ã€‚ä¸å…ƒç»„ä¸åŒï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒã€‚<br>Rust ä¸­çš„æ•°ç»„ä¸ä¸€äº›å…¶ä»–è¯­è¨€ä¸­çš„æ•°ç»„ä¸åŒï¼Œ<br>å› ä¸º Rust ä¸­çš„æ•°ç»„æ˜¯å›ºå®šé•¿åº¦çš„ï¼šä¸€æ—¦å£°æ˜ï¼Œå®ƒä»¬çš„é•¿åº¦ä¸èƒ½å¢é•¿æˆ–ç¼©å°ã€‚<br>Rust ä¸­ï¼Œæ•°ç»„ä¸­çš„å€¼ä½äºä¸­æ‹¬å·å†…çš„é€—å·åˆ†éš”çš„åˆ—è¡¨ä¸­ã€‚<br><br/> </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•°ç»„ä¸­çš„å€¼ä½äºä¸­æ‹¬å·å†…çš„éƒ½å¥½åˆ†éš”åˆ—è¡¨ä¸­[x,x,x,x,x,x]</span></span><br><span class="line"><span class="keyword">let</span> Array_a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="comment">//å­—ç¬¦ä¸²å‹æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> Array_strings = [<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;May&quot;</span>,<span class="string">&quot;June&quot;</span>,<span class="string">&quot;December&quot;</span>];</span><br><span class="line"><span class="comment">//æ•°ç»„çš„å£°æ˜ï¼Œå®šä¹‰</span></span><br><span class="line"><span class="keyword">let</span> array_aaa: [<span class="built_in">i32</span>;<span class="number">5</span>]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="comment">//å®šä¹‰5ä¸ªintç±»å‹çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> array_bbb = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="comment">//è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå…¶å®å’Œæ­£å¸¸è¯­è¨€çš„è®¿é—®æ•°ç»„å…ƒç´ æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæ˜¯ç”¨ä¸‹æ ‡çš„æ–¹å¼æ¥è®¿é—®å…ƒç´ .</span></span><br><span class="line">array_bbb[<span class="number">0</span>] <span class="comment">//è¿™æ ·å°±æ˜¯ä»£è¡¨ä¸‹æ ‡ä¸º0çš„æ•°ç»„å…ƒç´ .</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ€è€ƒæ•°ç»„è¶Šç•Œä¼šæ€ä¹ˆæ ·ï¼Ÿ</span></span><br><span class="line">æ•°ç»„è¶Šç•Œ ï¼Œå˜¿å˜¿åœ¨å…¶ä»–è¯­è¨€ä¸­å°±è¢«ç¼“å†²åŒºæº¢å‡ºæ”»å‡»äº†å‘€ã€‚</span><br><span class="line">ä½†æ˜¯rustçš„å®‰å…¨æ€§çœŸçš„æ˜¯å®‰å…¨ï¼Œç›´æ¥ç¼–è¯‘å™¨è¿™ä¸€æ­¥ä»–å°±ä¸ä¼šè®©ä½ ç¼–è¯‘è¿‡å»ï¼Œæˆ–è€…æ˜¯<span class="keyword">try</span> catchæ‰ã€‚</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/19/rust%E5%AD%A6%E4%B9%A0-%E5%85%A5%E9%97%A8%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/19/rust%E5%AD%A6%E4%B9%A0-%E5%85%A5%E9%97%A8%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">rustå­¦ä¹ -å…¥é—¨å®‰è£…</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-19 09:47:18" itemprop="dateCreated datePublished" datetime="2020-09-19T09:47:18+08:00">2020-09-19</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:11:59" itemprop="dateModified" datetime="2021-04-19T14:11:59+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="0x00ï¼šå®‰è£…"><a href="#0x00ï¼šå®‰è£…" class="headerlink" title="#0x00ï¼šå®‰è£…"></a>#0x00ï¼šå®‰è£…</h3><p>rustçš„å®‰è£…çœŸçš„æ˜¯æˆ‘è§è¿‡æœ€ç®€å•çš„äº†ï¼Œç›´æ¥ä¸‹è½½å®‰è£…ä¸€æ­¥åˆ°ä½ï¼</p>
<p>ç”¨å®˜æ–¹çš„rustupå®‰è£…å³å¯ï¼Œ<code>è¿™æ˜¯ä¸€ä¸ªç®¡ç†Rustç‰ˆæœ¬å’Œç›¸å…³å·¥å…·çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œéœ€è¦è”ç½‘</code></p>
<h4 id="Linuxæˆ–macOSä¸Šå®‰è£…rustep"><a href="#Linuxæˆ–macOSä¸Šå®‰è£…rustep" class="headerlink" title="Linuxæˆ–macOSä¸Šå®‰è£…rustep"></a>Linuxæˆ–macOSä¸Šå®‰è£…rustep</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ curl --proto <span class="string">&#x27;=https&#x27;</span> --tlsv1.2 -sSf https://sh.rustup.rs | sh</span><br><span class="line">é‡å¯ç”µè„‘</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">$ rustup --version</span><br><span class="line"><span class="comment">#æ›´æ–°å‘½ä»¤</span></span><br><span class="line">$ rustup update</span><br><span class="line"><span class="comment">#å¸è½½å‘½ä»¤</span></span><br><span class="line">$ rustup setl uninstall</span><br></pre></td></tr></table></figure>

<h4 id="Windowsä¸Šå®‰è£…rustep"><a href="#Windowsä¸Šå®‰è£…rustep" class="headerlink" title="Windowsä¸Šå®‰è£…rustep"></a>Windowsä¸Šå®‰è£…rustep</h4><p>ä¸‹è½½å®‰è£…<a target="_blank" rel="noopener" href="https://static.rust-lang.org/rustup/dist/i686-pc-windows-gnu/rustup-init.exe">rustup-init.exe</a></p>
<p>é‡å¯ç”µè„‘ã€‚</p>
<p><strong>è‡ªæ­¤ï¼Œrustå®‰è£…å®Œæˆï¼Œå¥½çš„æ¥ä¸‹æ¥æ­å–œä½ æˆä¸ºrustçš„ä¸€å‘˜ï¼Œæ­å–œä½ å…¥å‘ğŸ¤£</strong></p>
<h3 id="0x01ï¼šç»å…¸çš„-â€œä½ å¥½ï¼Œä¸–ç•Œ-â€"><a href="#0x01ï¼šç»å…¸çš„-â€œä½ å¥½ï¼Œä¸–ç•Œ-â€" class="headerlink" title="#0x01ï¼šç»å…¸çš„ â€œä½ å¥½ï¼Œä¸–ç•Œ!â€"></a>#0x01ï¼šç»å…¸çš„ â€œä½ å¥½ï¼Œä¸–ç•Œ!â€</h3><h4 id="åˆ›å»ºé¡¹ç›®ç›®å½•"><a href="#åˆ›å»ºé¡¹ç›®ç›®å½•" class="headerlink" title="åˆ›å»ºé¡¹ç›®ç›®å½•"></a>åˆ›å»ºé¡¹ç›®ç›®å½•</h4><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå­˜æ”¾ Rust ä»£ç çš„ç›®å½•ã€‚Rust å¹¶ä¸å…³å¿ƒä»£ç çš„å­˜æ”¾ä½ç½®ï¼Œä¸è¿‡å¯¹äºæœ¬ä¹¦çš„ç»ƒä¹ å’Œé¡¹ç›®æ¥è¯´ï¼Œæˆ‘ä»¬å»ºè®®ä½ åœ¨ home ç›®å½•ä¸­åˆ›å»º <em>projects</em> ç›®å½•ï¼Œå¹¶å°†ä½ çš„æ‰€æœ‰é¡¹ç›®å­˜æ”¾åœ¨è¿™é‡Œã€‚</p>
<p>æ‰“å¼€ç»ˆç«¯å¹¶è¾“å…¥å¦‚ä¸‹å‘½ä»¤åˆ›å»º <em>projects</em> ç›®å½•ï¼Œå¹¶åœ¨ <em>projects</em> ç›®å½•ä¸­ä¸º â€œHello, world!â€ é¡¹ç›®åˆ›å»ºä¸€ä¸ªç›®å½•ã€‚</p>
<p>å¯¹äº Linuxã€macOS å’Œ Windows PowerShellæˆ–ï¼ˆWIndows Teminalï¼‰ï¼Œè¾“å…¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/projects</span><br><span class="line">$ <span class="built_in">cd</span> ~/projects</span><br><span class="line">$ mkdir hello_world</span><br><span class="line">$ <span class="built_in">cd</span> hello_world</span><br></pre></td></tr></table></figure>

<h4 id="ç¼–å†™å¹¶è¿è¡ŒRustç¨‹åº"><a href="#ç¼–å†™å¹¶è¿è¡ŒRustç¨‹åº" class="headerlink" title="ç¼–å†™å¹¶è¿è¡ŒRustç¨‹åº"></a>ç¼–å†™å¹¶è¿è¡ŒRustç¨‹åº</h4><p>åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå‘½åä¸ºï¼šmain.rsï¼Œå¹¶ä¸”è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">&quot;ä½ å¥½ï¼Œä¸–ç•Œï¼&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜å®Œæ¯•ååœ¨ç»ˆç«¯å†…ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#macOS æˆ– Linux</span></span><br><span class="line">$ rustc main.rs</span><br><span class="line">$ ./main</span><br><span class="line">ä½ å¥½ï¼Œä¸–ç•Œï¼</span><br><span class="line"><span class="comment">#Windowsä¸Šå‘½ä»¤å¦‚ä¸‹</span></span><br><span class="line">$./main.exe</span><br><span class="line">ä½ å¥½ï¼Œä¸–ç•Œï¼</span><br></pre></td></tr></table></figure>



<p>ğŸ‘ğŸ‘ğŸ‘æ­å–œï¼Œè¿è¡Œäº†ç¬¬ä¸€ä¸ªRustç¨‹åºã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/02/%E9%BB%98%E5%BE%80%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/02/%E9%BB%98%E5%BE%80%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">iOSåº”ç”¨é€†å‘ä¸å®‰å…¨-é»˜å¾€èŠå¤©æ•°æ®åº“è§£å¯†</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-07-02 12:50:11" itemprop="dateCreated datePublished" datetime="2020-07-02T12:50:11+08:00">2020-07-02</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:12:02" itemprop="dateModified" datetime="2021-04-19T14:12:02+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="ç›—å¢“å‡†å¤‡ï¼šç ¸å£³"><a href="#ç›—å¢“å‡†å¤‡ï¼šç ¸å£³" class="headerlink" title="ç›—å¢“å‡†å¤‡ï¼šç ¸å£³"></a>ç›—å¢“å‡†å¤‡ï¼šç ¸å£³</h2><p>ç”¨<code>frida-ios-dump</code>ï¼Œå‘½ä»¤è¡Œ<code>python3 dump.py -p 2222 com.mostone.life0627</code>ã€‚å…·ä½“è¿‡ç¨‹ç•¥è¿‡â€¦â€¦</p>
<h2 id="åˆ†é‡‘å®šç©´ï¼šåˆ†æ"><a href="#åˆ†é‡‘å®šç©´ï¼šåˆ†æ" class="headerlink" title="åˆ†é‡‘å®šç©´ï¼šåˆ†æ"></a>åˆ†é‡‘å®šç©´ï¼šåˆ†æ</h2><p>æœç´¢å…³é”®å­—<code>chatMessageV3.db</code>ï¼Œå®šä½åˆ°å‡½æ•°<code>-[ChatMessageBDManage creatDB]</code></p>
<p><img src="%E9%BB%98%E5%BE%80%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200819133008260.png" alt="image-20200819133008260"></p>
<p>è·å–userIdï¼Œå°†userIDè½¬æ¢æˆMD5</p>
<p><img src="%E9%BB%98%E5%BE%80%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200819144724992.png" alt="image-20200819144724992"><br>å°†MD5ä¸cipherkeyæ‹¼æ¥ã€‚</p>
<p><img src="%E9%BB%98%E5%BE%80%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200819145016463.png" alt="image-20200819145016463"><br>.</p>
<h2 id="èµ·æ£ºç›—å¢“ï¼šfridaéªŒè¯"><a href="#èµ·æ£ºç›—å¢“ï¼šfridaéªŒè¯" class="headerlink" title="èµ·æ£ºç›—å¢“ï¼šfridaéªŒè¯"></a>èµ·æ£ºç›—å¢“ï¼šfridaéªŒè¯</h2><p>POCï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * MosOne é»˜å¾€èŠå¤©è®°å½•æ•°æ®åº“å¯†é’¥HOOK POC</span></span><br><span class="line"><span class="comment"> * by Lee</span></span><br><span class="line"><span class="comment"> * ä¸“æ³¨é€†å‘ã€ç½‘ç»œå®‰å…¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">/*setCipherKey å‡½æ•°*/</span></span><br><span class="line">  onEnter: <span class="function"><span class="keyword">function</span> (<span class="params">log, args, state</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> myString = <span class="keyword">new</span> ObjC.Object(args[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">var</span> NSData = ObjC.classes.NSData;</span><br><span class="line">    <span class="keyword">var</span> ssss = NSData.alloc().initWithData_(myString);</span><br><span class="line">    log(<span class="string">&quot;æ•°æ®åº“å¯†ç é•¿åº¦ï¼š&quot;</span>+ssss.length());</span><br><span class="line">    log(<span class="string">&quot;æ•°æ®åº“å¯†ç ï¼š&quot;</span>);</span><br><span class="line">    log(hexdump(ssss.bytes(),&#123;</span><br><span class="line">      length: ssss.length(),</span><br><span class="line">      header: <span class="literal">true</span>,</span><br><span class="line">      ansi: <span class="literal">true</span></span><br><span class="line">    &#125;));</span><br><span class="line">    log(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*è¿”å›å€¼*/</span></span><br><span class="line">  onLeave: <span class="function"><span class="keyword">function</span> (<span class="params">log, retval, state</span>) </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>éªŒè¯ï¼š</strong></p>
<p><img src="%E9%BB%98%E5%BE%80%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200819151627348.png" alt="image-20200819151627348"><br>.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/01/%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/01/%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">iOSåº”ç”¨é€†å‘ä¸å®‰å…¨-è™è èŠå¤©æ•°æ®åº“è§£å¯†</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-07-01 12:50:11" itemprop="dateCreated datePublished" datetime="2020-07-01T12:50:11+08:00">2020-07-01</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:12:02" itemprop="dateModified" datetime="2021-04-19T14:12:02+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="éœ€æ±‚ï¼š"><a href="#éœ€æ±‚ï¼š" class="headerlink" title="éœ€æ±‚ï¼š"></a>éœ€æ±‚ï¼š</h3><ol>
<li>æ•°æ®åº“è§£å¯†</li>
<li>é™„ä»¶åŒ¹é…å…³ç³»</li>
</ol>
<h2 id="ç›—å¢“å‡†å¤‡ï¼šç ¸å£³"><a href="#ç›—å¢“å‡†å¤‡ï¼šç ¸å£³" class="headerlink" title="ç›—å¢“å‡†å¤‡ï¼šç ¸å£³"></a>ç›—å¢“å‡†å¤‡ï¼šç ¸å£³</h2><p>ç”¨åº†æ€»Fridaæ¡†æ¶çš„<code>frida-ios-dump</code>ç ¸å£³å·¥å…·ï¼Œå…¶ä¸‹è½½åœ°å€ä¸º<a target="_blank" rel="noopener" href="https://github.com/AloneMonkey/frida-ios-dump">https://github.com/AloneMonkey/frida-ios-dump</a><br>åˆšå¼€å§‹æˆ‘ç ¸å£³å¹¶æ²¡æœ‰æˆåŠŸï¼Œåæ¥å‘ç°æ˜¯éœ€è¦æ›´æ–°frida-ios-dumpæ‰å¯ä»¥ç ¸æˆåŠŸï¼Œè¿™ä¸iOSç‰ˆæœ¬æˆ–fridaç‰ˆæœ¬éƒ½æœ‰å…³ç³»ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹è¿›ç¨‹ID åº”ç”¨å åŒ…å</span></span><br><span class="line">python3 dump.py -l</span><br><span class="line"><span class="comment">#å¯¹è™è APPè¿›è¡Œç ¸å£³.</span></span><br><span class="line">iproxy 2222 22</span><br><span class="line">python3 dump.py -p 2222 com.woyue.batchat</span><br></pre></td></tr></table></figure>
<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818133931373.png" alt="image-20200818133931373"><br><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818134413336.png" alt="image-20200818134413336"><br>.</p>
<h2 id="åˆ†é‡‘å®šç©´ï¼šåˆ†æ"><a href="#åˆ†é‡‘å®šç©´ï¼šåˆ†æ" class="headerlink" title="åˆ†é‡‘å®šç©´ï¼šåˆ†æ"></a>åˆ†é‡‘å®šç©´ï¼šåˆ†æ</h2><p>ç ¸äº†å£³åç›´æ¥æå–å‡ºè™è å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰”åˆ°<code>IDA</code>æˆ–è€…<code>Hopper</code>é‡Œé¢åˆ†æã€‚</p>
<h3 id="åŠ å¯†æ•°æ®åº“å®šä½"><a href="#åŠ å¯†æ•°æ®åº“å®šä½" class="headerlink" title="åŠ å¯†æ•°æ®åº“å®šä½"></a>åŠ å¯†æ•°æ®åº“å®šä½</h3><p>ç›´æ¥æœç´¢åŠ å¯†æ•°æ®åº“å­—ç¬¦ä¸²äº¤å‰å¼•ç”¨æŸ¥çœ‹è°ƒç”¨çš„å‡½æ•°<code>batChatBD</code> <code>FTSDB</code> <code>user_config</code></p>
<h4 id="0x01-batChatBD"><a href="#0x01-batChatBD" class="headerlink" title="#0x01 batChatBD"></a>#0x01 batChatBD</h4><p><code>batChatBD</code>æ•°æ®åº“ ï¼Œsqlcipherå’Œaeséƒ½æ˜¯å›ºå®šå¯†é’¥,è¿™..ğŸ¦‡ä¹Ÿå¤ªä¸å®‰å…¨äº†å§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* @class WBFDBManager *&#x2F;</span><br><span class="line">&#x2F;&#x2F;å¯ä»¥çœ‹åˆ°ç§˜é’¥æ˜¯å›ºå®šçš„ï¼Œæ˜¯å¯¹å­—ç¬¦ä¸²&quot;batChatMsgPwd1234560&quot; è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œå…·ä½“æ˜¯è¿›è¡ŒAESåŠ å¯†æœ€åBase64Encodeä¸‹</span><br><span class="line">r0 &#x3D; [@&quot;batChatMsgPwd1234560&quot; encryptWithkey:@&quot;1&quot;];</span><br><span class="line">&#123;</span><br><span class="line">  &#x2F;&#x2F;AESåŠ å¯†  å¯†é’¥ï¼š&quot;Batchat12345678#&quot;</span><br><span class="line">	CCCrypt(r19, 0x1, 0x1, [r0 UTF8String], 0x8, [@&quot;Batchat12345678#&quot; UTF8String], r23, r22, r20, r22 + 0x8 &amp; 0xfffffffffffffff8, &amp;var_58);</span><br><span class="line">	&#x2F;&#x2F;Base64ç¼–ç </span><br><span class="line">	[r22 base64EncodedDataWithOptions:0x0];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;PageSizeå¤§å°æ˜¯ä¼ å…¥äº†ä¸€ä¸ªåœ°å€ï¼Œè¿™é‡Œç›´æ¥çœ‹ä¸åˆ°å†…å®¹ï¼Œéœ€è¦HOOKè·å–ã€‚</span><br><span class="line">[r23 setCipherKey:[[r0 dataUsingEncoding:0x1 allowLossyConversion:0x1] retain] andCipherPageSize:*(int32_t *)0x101760440];</span><br></pre></td></tr></table></figure>

<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818141001693.png" alt="image-20200818141001693"><br><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818142301564.png" alt="image-20200818142301564"></p>
<p>æ¥ä¸‹æ¥è¿›è¡ŒHOOKçš„éªŒè¯ï¼Œæœ€è¿‘æ¯”è¾ƒå–œæ¬¢ç”¨<code>frida</code>æ¥HOOKï¼Œç®€å•æ–¹ä¾¿ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#frida-trace fridaå‡½æ•°è¿½è¸ªå‘½ä»¤è¡Œå®¢æˆ·ç«¯</span></span><br><span class="line"><span class="comment">#-U ä»£è¡¨è¿æ¥æ–¹å¼USB</span></span><br><span class="line"><span class="comment">#-f éœ€è¦HOOKçš„åŒ…å</span></span><br><span class="line"><span class="comment">#-m ä»£è¡¨éœ€è¦HOOKçš„ OCæ–¹æ³•å,*ä»£è¡¨åŒ¹é…æ‰€æœ‰ã€‚</span></span><br><span class="line">âœ  iOSre frida-trace -U -f com.woyue.batchat -m <span class="string">&quot;-[WCTDatabase setCipherKey:andCipherPageSiz*]&quot;</span></span><br><span class="line"></span><br><span class="line">Instrumenting <span class="built_in">functions</span>...</span><br><span class="line">-[WCTDatabase setCipherKey:andCipherPageSize:]: Loaded handler at <span class="string">&quot;/Users/xxx/Documents/iOSre/__handlers__/__WCTDatabase_setCipherKey_andCi_d4cddb79.js&quot;</span></span><br><span class="line">Started tracing 1 <span class="keyword">function</span>. Press Ctrl+C to stop.</span><br><span class="line">           /* TID 0x403 */</span><br><span class="line">   701 ms  -[WCTDatabase setCipherKey:0x280b6f5d0 andCipherPageSize:0x800]</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯ä»¥çœ‹åˆ°hookåˆ°äº†WCTDatabaseç±»çš„ setCipherKey:andCipherPageSizeæ–¹æ³•ï¼Œå…¶ä¸­å¯†é’¥æ˜¯ä¸€ä¸ªNSDataå¯¹è±¡çš„åœ°å€ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦å¯¹jsæ–‡ä»¶è¿›è¡Œä¿®æ”¹æ‰èƒ½æ­£ç¡®è¾“å‡ºå…¶åå…­è¿›åˆ¶æˆ–å­—ç¬¦ä¸²ï¼Œè€Œé¡µå¤§å°ä¸º0x800ï¼Œä¹Ÿå°±æ˜¯2048çš„åå…­è¿›åˆ¶ã€‚</span></span><br></pre></td></tr></table></figure>
<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818143621733.png" alt="image-20200818143621733"></p>
<p>ä¿®æ”¹åçš„<code>__WCTDatabase_setCipherKey_andCi_d4cddb79.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">onEnter: <span class="function"><span class="keyword">function</span> (<span class="params">log, args, state</span>) </span>&#123;</span><br><span class="line">    log(<span class="string">&#x27;-[WCTDatabase setCipherKey:&#x27;</span> + args[<span class="number">2</span>] + <span class="string">&#x27; andCipherPageSize:&#x27;</span> + args[<span class="number">3</span>] + <span class="string">&#x27;]&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> myString = <span class="keyword">new</span> ObjC.Object(args[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">var</span> NSData = ObjC.classes.NSData;</span><br><span class="line">    <span class="keyword">var</span> ssss = NSData.alloc().initWithData_(myString);</span><br><span class="line">    log(<span class="string">&quot;æ•°æ®åº“å¯†ç é•¿åº¦ï¼š&quot;</span>+ssss.length());</span><br><span class="line">    log(<span class="string">&quot;æ•°æ®åº“å¯†ç ï¼š&quot;</span>);</span><br><span class="line">    log(hexdump(ssss.bytes(),&#123;</span><br><span class="line">      length: ssss.length(),</span><br><span class="line">      header: <span class="literal">true</span>,</span><br><span class="line">      ansi: <span class="literal">true</span></span><br><span class="line">    &#125;));</span><br><span class="line">    log(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p><code>batChatBD</code>åŠ å¯†æ•°æ®åº“   å¯†é’¥ï¼š<code>DKrF2tB3U5vi39kVODmsbY0UW5Scn8rW</code>  é¡µå¤§å°ï¼š<code>2048</code><br><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818144913788.png" alt="image-20200818144913788"></p>
<h4 id="0x1-FTSDB"><a href="#0x1-FTSDB" class="headerlink" title="#0x1 FTSDB"></a>#0x1 FTSDB</h4><p>å’ŒbatChatBDçš„æ–¹æ³•ä¸€æ ·ï¼Œä¹Ÿæ˜¯å­—ç¬¦ä¸²æœç´¢<code>FTSDB</code>å…³é”®å­—ï¼Œç„¶åå†æŸ¥çœ‹äº¤å‰å¼•ç”¨å…³ç³»ï¼Œå®šä½åˆ°å…¶åˆ›å»ºæ•°æ®åº“çš„å‡½æ•°ã€‚</p>
<p><code>è¿™é‡Œçš„è®¾ç½®å¯†é’¥å‡½æ•°å’ŒbatChatBDçš„ä¸ä¸€æ ·ï¼Œè¿™é‡Œæ²¡æœ‰è®¾ç½®é¡µå¤§å°ï¼Œä¹Ÿå°±æ˜¯ç”¨äº†é»˜è®¤çš„é¡µå¤§å°</code>ï¼Œæˆ‘é€šè¿‡æŸ¥çœ‹WCDBæºç å‘ç°ï¼Œé»˜è®¤çš„é¡µå¤§å°ä¸º4096ï¼Œ<code>WCDBæ˜¯è…¾è®¯å¼€æºçš„ä¸€ä¸ªé«˜æ•ˆã€å®Œæ•´ã€æ˜“ç”¨çš„ç§»åŠ¨æ•°æ®åº“æ¡†æ¶ï¼ŒåŸºäºSQLCipherï¼Œæ”¯æŒ iOSã€macOS å’Œ Android</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">r0 &#x3D; [@&quot;FTSDBPWD&quot; encryptWithkey:@&quot;2&quot;];</span><br><span class="line">r25 &#x3D; [[r0 dataUsingEncoding:0x1 allowLossyConversion:0x1] retain];</span><br><span class="line">[r23 setCipherKey:r25];</span><br></pre></td></tr></table></figure>
<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818145807201.png" alt="image-20200818145807201"><br>.</p>
<h4 id="0x2-user-config"><a href="#0x2-user-config" class="headerlink" title="#0x2 user_config"></a>#0x2 user_config</h4><p>è¯»å–<code>keychain</code>ä¸­çš„<code>WCDB.BATUSERCONFIGKEY</code>å­—æ®µå†…å®¹è®¾ä¸ºsqlcipherå¯†é’¥ï¼Œå’ŒFTSDBä¸€æ ·ä¹Ÿæ˜¯é»˜è®¤é¡µå¤§å°ï¼Œ4096.</p>
<p>å¦‚æœkeychainä¸­æ²¡æœ‰WCDB.BATUSERCONFIGKEYå­—æ®µåˆ™éšæœºç”Ÿæˆ64ä½çš„åå…­è¿›åˆ¶ä½œä¸ºsqlcipherå¯†é’¥ï¼Œå¹¶å­˜å…¥keychainå½“ä¸­ã€‚</p>
<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818153437735.png" alt="image-20200818153437735"></p>
<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818153643131.png" alt="image-20200818153643131"></p>
<h4 id="0x3-HOOKéªŒè¯-FTSDB-å’Œ-user-configæ•°æ®åº“å¯†é’¥"><a href="#0x3-HOOKéªŒè¯-FTSDB-å’Œ-user-configæ•°æ®åº“å¯†é’¥" class="headerlink" title="#0x3 HOOKéªŒè¯ FTSDB å’Œ user_configæ•°æ®åº“å¯†é’¥"></a>#0x3 HOOKéªŒè¯ FTSDB å’Œ user_configæ•°æ®åº“å¯†é’¥</h4><p>å› ä¸ºFTSDBå’Œuser_configæ•°æ®åº“è®¾ç½®å¯†é’¥æ–¹æ³•æ˜¯åŒä¸€ä¸ªï¼Œéƒ½æ˜¯ç”¨çš„<code>-[WCTDatabase setCipherKey:]</code> é»˜è®¤é¡µå¤§å°ã€‚æ‰€ä»¥æ”¾åˆ°è¿™é‡Œæ¥ç»Ÿä¸€è¿›è¡Œfrida çš„hookéªŒè¯ã€‚</p>
<p>å¯åŠ¨Frida hookï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ  iOSre frida-trace -U -f com.woyue.batchat -m <span class="string">&quot;-[WCTDatabase setCipherKey:]&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å¯¹åº”<code>__WCTDatabase_setCipherKey__.js</code>JSæ–‡ä»¶å†…å®¹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">onEnter: <span class="function"><span class="keyword">function</span> (<span class="params">log, args, state</span>) </span>&#123;</span><br><span class="line">    log(<span class="string">&#x27;-[WCTDatabase setCipherKey:&#x27;</span> + args[<span class="number">2</span>] + <span class="string">&#x27;]&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> myString = <span class="keyword">new</span> ObjC.Object(args[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">var</span> NSData = ObjC.classes.NSData;</span><br><span class="line">    <span class="keyword">var</span> ssss = NSData.alloc().initWithData_(myString);</span><br><span class="line">    log(<span class="string">&quot;æ•°æ®åº“å¯†ç é•¿åº¦ï¼š&quot;</span>+ssss.length());</span><br><span class="line">    log(<span class="string">&quot;æ•°æ®åº“å¯†ç ï¼š&quot;</span>);</span><br><span class="line">    log(hexdump(ssss.bytes(),&#123;</span><br><span class="line">      length: ssss.length(),</span><br><span class="line">      header: <span class="literal">true</span>,</span><br><span class="line">      ansi: <span class="literal">true</span></span><br><span class="line">    &#125;));</span><br><span class="line">    log(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡å¯åŠ¨frida hookéªŒè¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ  iOSre frida-trace -U -f com.woyue.batchat -m <span class="string">&quot;-[WCTDatabase setCipherKey:]&quot;</span></span><br></pre></td></tr></table></figure>
<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818154550865.png" alt="image-20200818154550865"><br>.</p>
<p>keychainç›¸å…³çš„çŸ¥è¯†ï¼Œè¿™é‡Œä¸å¤šè¯´äº†è‡ªè¡Œç™¾åº¦ï¼Œæˆ–è€…å¯¹<a target="_blank" rel="noopener" href="https://github.com/ptoomey3/Keychain-Dumper">https://github.com/ptoomey3/Keychain-Dumper</a> é¡¹ç›®è¿›è¡Œå­¦ä¹ ç ”ç©¶ã€‚<br><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818154803167.png" alt="image-20200818154803167"><br>.</p>
<h2 id="èµ·æ£ºç›—å¢“ï¼šé™„ä»¶åŒ¹é…"><a href="#èµ·æ£ºç›—å¢“ï¼šé™„ä»¶åŒ¹é…" class="headerlink" title="èµ·æ£ºç›—å¢“ï¼šé™„ä»¶åŒ¹é…"></a>èµ·æ£ºç›—å¢“ï¼šé™„ä»¶åŒ¹é…</h2><p>è¿™å…¶ä¸­å®šä½çš„è¿‡ç¨‹èŠ±äº†å¾ˆé•¿æ—¶é—´ï¼Œæ˜¯ä»ä¸€ä¸ªå‡½æ•°ä¸€æ­¥æ­¥è¿½è¸ªéªŒè¯åˆ°æœ€åç›´æ¥HOOKåˆ°å‚æ•°ä¸ºé™„ä»¶çš„ç»å¯¹è·¯å¾„çš„å‡½æ•°ï¼Œç„¶åç»“æœåˆ†æç”¨çš„æ˜¯MD5ç®—æ³•ï¼Œå°†é™„ä»¶URLåœ°å€MD5åŠ å¯†æˆé™„ä»¶å + åç¼€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-[WBFChatFileCacheManager chatFilePath:placeFileData:progress:completion:];</span><br><span class="line">int sub_1000d5dd8();</span><br><span class="line">CC_MD5();</span><br></pre></td></tr></table></figure>
<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818162135910.png" alt="image-20200818162135910"><br>.</p>
<h4 id="0x00-CC-MD5-jsè„šæœ¬"><a href="#0x00-CC-MD5-jsè„šæœ¬" class="headerlink" title="#0x00 CC_MD5.jsè„šæœ¬"></a>#0x00 CC_MD5.jsè„šæœ¬</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * CC_MD5 HOOKè„šæœ¬</span></span><br><span class="line"><span class="comment"> * by: Lee</span></span><br><span class="line"><span class="comment"> * ä¸“æ³¨é€†å‘ã€ç½‘ç»œå®‰å…¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">/*å‡½æ•°å‚æ•°*/</span></span><br><span class="line">  onEnter: <span class="function"><span class="keyword">function</span> (<span class="params">log, args, state</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//å°†md5å‚æ•°è½¬æ¢æˆå­—ç¬¦ä¸²å¹¶æ‰“å°</span></span><br><span class="line">    <span class="keyword">var</span> md5_data = args[<span class="number">0</span>].readUtf8String();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;MD5 - å‚æ•°å€¼:&quot;</span>);</span><br><span class="line">    <span class="built_in">console</span>.error(md5_data);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*å‡½æ•°è¿”å›å€¼*/</span></span><br><span class="line">  onLeave: <span class="function"><span class="keyword">function</span> (<span class="params">log, retval, state</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//å°†md5è¿”å›å€¼è½¬ç ä¸º32ä½å­—ç¬¦ä¸²å¹¶æ‰“å°</span></span><br><span class="line">    <span class="keyword">var</span> md5_digest = hexdump(retval , &#123;<span class="attr">length</span>: <span class="number">16</span>&#125;)</span><br><span class="line">    <span class="keyword">var</span> hexified = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> raw_array = md5_digest.split(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">0</span>; a &lt; raw_array.length; a++) &#123;</span><br><span class="line">      <span class="keyword">var</span> line_array = raw_array[a].split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> b = <span class="number">1</span>; b &lt; line_array.length - <span class="number">1</span> ; b++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (line_array[b].length === <span class="number">2</span>) &#123;</span><br><span class="line">          hexified += line_array[b];</span><br><span class="line">          hexified = hexified.trim()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;MD5 - è¿”å›å€¼:&quot;</span>);</span><br><span class="line">    <span class="built_in">console</span>.error(hexified + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="0x01-éªŒè¯"><a href="#0x01-éªŒè¯" class="headerlink" title="#0x01 éªŒè¯"></a>#0x01 éªŒè¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ  iOSre frida-trace -U -f com.woyue.batchat -i <span class="string">&quot;CC_MD5&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818162525337.png" alt="image-20200818162525337"><br>.</p>
<p><img src="%E8%9D%99%E8%9D%A0%E8%81%8A%E5%A4%A9%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/image-20200818162624969.png" alt="image-20200818162624969"></p>
<p>è°¢è°¢è€å¿ƒçœ‹å®Œï¼Œä¸æ‡‚çš„éšæ—¶é—®æˆ‘ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/06/29/iOS%E5%BA%94%E7%94%A8%E9%80%86%E5%90%91%E4%B8%8E%E5%AE%89%E5%85%A8-WhatsApp%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/29/iOS%E5%BA%94%E7%94%A8%E9%80%86%E5%90%91%E4%B8%8E%E5%AE%89%E5%85%A8-WhatsApp%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">iOSåº”ç”¨é€†å‘ä¸å®‰å…¨-WhatsAppé˜²æ’¤å›å¼€å‘</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-06-29 12:32:31" itemprop="dateCreated datePublished" datetime="2020-06-29T12:32:31+08:00">2020-06-29</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:12:02" itemprop="dateModified" datetime="2021-04-19T14:12:02+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>åº†æ€»çš„ã€ŠiOSåº”ç”¨é€†å‘ä¸å®‰å…¨ã€‹çœ‹å¾—ä¹Ÿå·®ä¸å¤šäº†ï¼Œæ ¹æ®æœ€åä¸€å¼ ï¼Œè‡ªå·±ä¹Ÿåˆ†æä¸‹æœ€æ–°ç‰ˆæœ¬çš„WhatsAppè½¯ä»¶çš„åˆ†æã€‚</p>
<p>ç‰ˆæœ¬ï¼š2.20.51</p>
</blockquote>
<h2 id="ç›—å¢“å‡†å¤‡ï¼šç ¸å£³"><a href="#ç›—å¢“å‡†å¤‡ï¼šç ¸å£³" class="headerlink" title="ç›—å¢“å‡†å¤‡ï¼šç ¸å£³"></a>ç›—å¢“å‡†å¤‡ï¼šç ¸å£³</h2><p>å“ˆå“ˆğŸ˜¸ï¼Œæœ€è¿‘å¯èƒ½é¬¼å¹ç¯çœ‹å¤šäº†ï¼Œå¾ˆå–œæ¬¢å§é€†å‘æµç¨‹åˆ†ä¸ºï¼Œç›—å¢“å‡†å¤‡-åˆ†ç»å®šç©´-èµ·å°¸å¼€é¦†-ç›—å¢“ã€‚</p>
<p>ç ¸å£³çš„æ–¹å¼ç°åœ¨çœŸçš„äº”èŠ±å…«é—¨ï¼Œæœ‰å„ç§å·¥å…·æ¥ç ¸å£³ï¼Œå…¶ä¸­æ¯”è¾ƒå¥½ç”¨æœ‰åçš„æ˜¯ç”¨åº†æ€»ç”¨Fridaæ¡†æ¶å†™çš„<code>frida-ios-dump</code>ï¼Œå…¶ä¸‹è½½åœ°å€ä¸º<a target="_blank" rel="noopener" href="https://github.com/AloneMonkey/frida-ios-dump">https://github.com/AloneMonkey/frida-ios-dump</a>.</p>
<p>è¿˜æœ‰Lakr Areamå¤§ä½¬å†™çš„VS Codeæ’ä»¶<code>iOSre Extension</code>ï¼Œè¯¥æ’ä»¶åŒ…å«å¾ˆå¤šåŠŸèƒ½ï¼Œå¯ä»¥åˆ—å‡ºæ‰€æœ‰APPï¼Œå¯ä»¥åŠ¨æ€è°ƒè¯•ã€å¯ä»¥ä¸€é”®è„±å£³ã€åŠ è½½æ–‡ä»¶ç³»ç»Ÿã€ä¸‹è½½ä¸Šä¼ æ–‡ä»¶ã€‚å…·ä½“ä½¿ç”¨çš„è¯ï¼Œåœ¨VS Codeä¸­ç›´æ¥å®‰è£…è¯¥æ’ä»¶å³å¯ã€‚å…¶githubåœ°å€ä¸º<a target="_blank" rel="noopener" href="https://github.com/Co2333/iOSreExtension">https://github.com/Co2333/iOSreExtension</a> </p>
<p>æˆ‘ä¸ªäººçš„è¯æ¯”è¾ƒå–œæ¬¢<code>CrackXI</code>ï¼Œæ˜¯åœ¨æ‰‹æœºä¸Šçš„è¶Šç‹±åº”ç”¨ï¼Œåœ¨Cydiaä¸­æ·»åŠ èš‚èšæºï¼Œå®‰è£…CrackXIåæ‰“å¼€Iåœ¨å…¶AppListç•Œé¢ç‚¹å‡»éœ€è¦ç ¸å£³çš„APPï¼Œç„¶åç‚¹å‡»YES,Full IPAå¼€å§‹ç ¸å£³ï¼ŒçœŸçš„å¾ˆç®€å•å¥½ç”¨ã€‚</p>
<ul>
<li>frida-ios-dump <a target="_blank" rel="noopener" href="https://github.com/AloneMonkey/frida-ios-dump">https://github.com/AloneMonkey/frida-ios-dump</a> ä½œè€…ï¼šåº†æ€»</li>
<li>iOSre Extension <a target="_blank" rel="noopener" href="https://github.com/Co2333/iOSreExtension">https://github.com/Co2333/iOSreExtension</a> ä½œè€…ï¼šLakr Aream</li>
<li>CrackerXI <a target="_blank" rel="noopener" href="https://apt.cydia.love/misc">https://apt.cydia.love/misc</a> ä½œè€…ï¼šèš‚èšæº</li>
</ul>
<p><code>å¯¼å‡ºå¤´æ–‡ä»¶ï¼š</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å°†WhatsAppç¨‹åºçš„å¤´æ–‡ä»¶å¯¼å‡ºåˆ°Headersæ–‡ä»¶ä¸­.</span></span><br><span class="line">class-dump WhatsApp.app -A -H -o ./Headers</span><br></pre></td></tr></table></figure>

<p><code>è¿˜åŸç¬¦å·è¡¨:</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å…ˆåœ¨Githubä¸Šä¸‹è½½restore-symbol</span></span><br><span class="line">git <span class="built_in">clone</span> --recursive https://github.com/tobefuturer/restore-symbol.git</span><br><span class="line"><span class="built_in">cd</span> restore-symbol</span><br><span class="line">make</span><br><span class="line"><span class="comment">#ç„¶åé“¾æ¥åˆ°ç³»ç»ŸBinï¼Œæ–¹ä¾¿ä½¿ç”¨</span></span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/bin</span><br><span class="line">ln /User/lee/restore-symbol/restore-symbol restore-symbol</span><br><span class="line"><span class="comment">#æ‹·è´å¯æ‰§è¡Œæ–‡ä»¶ã€ç˜¦èº«ã€æ¢å¤ç¬¦å·è¡¨</span></span><br><span class="line"><span class="built_in">cd</span> /User/lee/Desktop/whatsapp</span><br><span class="line">cp WhatsApp.app/whatsApp ./whatsApp_decrypt &amp;&amp; chmod 777 whatsApp_decrypt</span><br><span class="line">lipo whatsApp_decrypt -thin arm64 -o whatsApp &amp;&amp; chmod 777 whatsApp</span><br><span class="line">restore-symbol WhatsApp -o WhatsApp_With_Symbol</span><br><span class="line"><span class="comment">#ç„¶åæ›¿æ¢WhatsApp.appé‡Œé¢çš„å¯æ‰§è¡Œæ–‡ä»¶,å†ç”¨mobiledevice å®‰è£…</span></span><br><span class="line">mobiledevice WhatsApp.app</span><br></pre></td></tr></table></figure>
<p><img src="iOS%E5%BA%94%E7%94%A8%E9%80%86%E5%90%91%E4%B8%8E%E5%AE%89%E5%85%A8-WhatsApp%E5%88%86%E6%9E%90/%E6%88%AA%E5%B1%8F2020-06-29%E4%B8%8B%E5%8D%8810.36.40.png" alt="æˆªå±2020-06-29ä¸‹åˆ10.36.40"><br>.</p>
<h2 id="åˆ†é‡‘å®šç©´ï¼šåˆ†æ"><a href="#åˆ†é‡‘å®šç©´ï¼šåˆ†æ" class="headerlink" title="åˆ†é‡‘å®šç©´ï¼šåˆ†æ"></a>åˆ†é‡‘å®šç©´ï¼šåˆ†æ</h2><h4 id="Reveal-æŸ¥çœ‹UIå±‚"><a href="#Reveal-æŸ¥çœ‹UIå±‚" class="headerlink" title="Reveal æŸ¥çœ‹UIå±‚"></a>Reveal æŸ¥çœ‹UIå±‚</h4><p>ä¸‹è½½æœ€æ–°çš„Revealï¼Œæˆ‘è¿™è¾¹ç›®å‰æœ€æ–°çš„Revealç‰ˆæœ¬æ˜¯26ï¼Œç„¶åé…ç½®ä¸‹RevealServerï¼Œå…·ä½“å¯ä»¥å‚è€ƒè¿™ä¸€ç¯‡æ–‡ç« ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://meilbn.com/2019/08/23/install-reveal2loader-on-jailbreak-device-ios12/#0x03_%E6%9B%B4%E6%96%B0_RevealServer-framework">https://meilbn.com/2019/08/23/install-reveal2loader-on-jailbreak-device-ios12/#0x03_%E6%9B%B4%E6%96%B0_RevealServer-framework</a></p>
<p>å¯åŠ¨WhatsAppå¹¶æ‰“å¼€èŠå¤©å¯¹è¯æ¡†ï¼Œç„¶åç”¨RevealæŸ¥çœ‹WhatsAppçš„æ¶ˆæ¯æ§ä»¶ï¼Œå¾—çŸ¥æ˜¯WAMessaegContainerViewç±»ã€‚<br><img src="iOS%E5%BA%94%E7%94%A8%E9%80%86%E5%90%91%E4%B8%8E%E5%AE%89%E5%85%A8-WhatsApp%E5%88%86%E6%9E%90/image-20200705213020250.png" alt="image-20200705213020250"></p>
<h4 id="VSCode-æŸ¥æ‰¾åˆ‡å…¥ç‚¹"><a href="#VSCode-æŸ¥æ‰¾åˆ‡å…¥ç‚¹" class="headerlink" title="VSCode æŸ¥æ‰¾åˆ‡å…¥ç‚¹"></a>VSCode æŸ¥æ‰¾åˆ‡å…¥ç‚¹</h4><p>VSCodeæ‰“å¼€ç”¨class-dumpå‡ºæ¥çš„WhatsAppå¤´æ–‡ä»¶ï¼Œæœç´¢<code>WAMessageContainerView</code>å¤´æ–‡ä»¶ç„¶åæ‰¾åˆ°å¯ç–‘çš„æ–¹æ³•ï¼Œç”±äºæˆ‘ä»¬æ˜¯è¦åšé•¿æŒ‰æ¶ˆæ¯ç„¶åå¼¹å‡ºæ¡†é‡Œé¢åŠ æ”¶è—çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æ‰¾åˆ°ä¸€ä¸ªå¯ç–‘çš„æ–¹æ³•<code>handleLongPressAtPoint</code>,å­—é¢æ„æ€å°±æ˜¯é•¿æŒ‰</p>
<p><img src="iOS%E5%BA%94%E7%94%A8%E9%80%86%E5%90%91%E4%B8%8E%E5%AE%89%E5%85%A8-WhatsApp%E5%88%86%E6%9E%90/image-20200705214346733.png" alt="image-20200705214346733"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/02/06/lldb%E8%B0%83%E8%AF%95%E5%A4%A7%E5%85%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/06/lldb%E8%B0%83%E8%AF%95%E5%A4%A7%E5%85%A8/" class="post-title-link" itemprop="url">lldbè°ƒè¯•å¤§å…¨</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-02-06 17:31:34" itemprop="dateCreated datePublished" datetime="2020-02-06T17:31:34+08:00">2020-02-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:12:02" itemprop="dateModified" datetime="2021-04-19T14:12:02+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>æ¥ä¸Šä¸€ç¯‡,ã€ŠiOS13 åŠ¨æ€è°ƒè¯•é…ç½®ä¹‹debugserverã€‹,é…ç½®å¥½debugserver ,æ¥ä¸‹æ¥å°±å¯ä»¥ç”¨lldbæ¥åŠ¨æ€è°ƒè¯•åº”ç”¨ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/02/06/iOS13-%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE%E4%B9%8Bdebugserver/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="fucklee">
      <meta itemprop="description" content="å–œæ¬¢é€†å‘ç ´è§£ï¼Œæ¼æ´æŒ–æ˜ã€Webæ¸—é€ï¼Œæ¢¦æƒ³ç€æˆä¸ºMr. Robot">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lee's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/06/iOS13-%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE%E4%B9%8Bdebugserver/" class="post-title-link" itemprop="url">iOS13 åŠ¨æ€è°ƒè¯•é…ç½®ä¹‹debugserver</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-02-06 17:30:34" itemprop="dateCreated datePublished" datetime="2020-02-06T17:30:34+08:00">2020-02-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-19 14:12:02" itemprop="dateModified" datetime="2021-04-19T14:12:02+08:00">2021-04-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>ç–«æƒ…æœŸé—´å®¶é‡Œæ²¡ç½‘ğŸ¤£ï¼Œå¥½ä¹…æ²¡æ›´æ–°äº†ï¼Œåˆšå›åˆ°æ­å·ç»™è‡ªå·±iOSé€†å‘å……å……ç”µã€‚[æ­¦æ±‰åŠ æ²¹ğŸ’ª]</p>
<hr>
<p>iOSé€†å‘é‡Œé¢æ¯”è¾ƒé‡è¦çš„å‡ é¡¹æŠ€èƒ½ï¼šåŠ¨æ€è°ƒè¯•ã€é™æ€åˆ†æã€HOOKå…³é”®å‡½æ•°ã€é‡ç­¾å</p>
<p>å…ˆæ¥è®²ä¸‹åŠ¨æ€è°ƒè¯•ï¼ŒiOSåŠ¨æ€è°ƒè¯•éœ€è¦ä¸€ä¸ªæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ç¨‹åºï¼ŒæœåŠ¡ç«¯ç¨‹åºåœ¨æ‰‹æœºä¸Šç›‘å¬è¦åŠ¨æ€è°ƒè¯•ç¨‹åºçš„è¿›ç¨‹IDæˆ–æ˜¯ç¨‹åºåï¼Œå®¢æˆ·ç«¯ç¨‹åºåœ¨Mac OSç³»ç»Ÿä¸Šè¿è¡Œã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æœåŠ¡ç«¯ç¨‹åº:debugserver</span><br><span class="line">å®¢æˆ·ç«¯ç¨‹åº:lldb</span><br><span class="line"><span class="comment">#è¿™ä¸¤ä¸ªç¨‹åºä¸ç”¨é¢å¤–çš„å»å¤–ç½‘ä¸‹è½½ï¼Œåªè¦ä½ çš„Macç”µè„‘æœ‰è£…XCodeï¼Œå¹¶ä¸”è¿›è¡ŒçœŸæœºè°ƒè¯•è¿‡ï¼ˆçœŸæœºè°ƒè¯•ä¸€èˆ¬å¯ä»¥åœ¨æ·˜å®ä¹°UDIDå¼€å‘è€…è¯ä¹¦ï¼Œå°±æ˜¯å’Œä½ æ‰‹æœºUDIDç»‘å®šçš„è¯ä¹¦é‚£ä¹ˆä½ å°±å¯ä»¥åœ¨ä½ æ‰‹æœºä¸Šå®‰è£…å¼€å‘ä½ çš„APP|åœŸè±ªï¼ˆå¼€å‘è€…è´¦å·ï¼‰ï¼‰</span></span><br></pre></td></tr></table></figure>

<p>åªè¦ä½ æ‰‹æœºè¿›è¡ŒçœŸæœºè°ƒè¯•è¿‡ï¼Œé‚£ä¹ˆåœ¨ä½ æ‰‹æœºçš„è¿™ä¸ªç›®å½•ä¸‹å°±ä¼šæœ‰debugserver</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/Developer/usr/<span class="built_in">bin</span>/debugserver</span><br><span class="line"><span class="comment">#ä¸è¿‡è¿™ä¸ªdebugserver é»˜è®¤åªèƒ½è°ƒè¯•è‡ªå·±å¼€å‘çš„APPï¼Œæˆ‘ä»¬é€†å‘å½“ç„¶æ˜¯è¦é€†åˆ«äººçš„ç¨‹åºï¼Œæ‰€ä»¥æƒ³è¦debugserverèƒ½è°ƒè¯•ä¸‰æ–¹APPï¼Œéœ€è¦è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œä¸‹é¢å°±æ˜¯ä¿®æ”¹çš„ä¸€äº›é‡ç‚¹ã€‚</span></span><br></pre></td></tr></table></figure>

<h3 id="0x00-é…ç½®debugserver-èµ‹äºˆæƒé™"><a href="#0x00-é…ç½®debugserver-èµ‹äºˆæƒé™" class="headerlink" title="#0x00 é…ç½®debugserver èµ‹äºˆæƒé™"></a>#0x00 é…ç½®debugserver èµ‹äºˆæƒé™</h3><p>debugserveré»˜è®¤åªèƒ½è°ƒè¯•è‡ªå·±å¼€å‘çš„åº”ç”¨ï¼Œè°ƒè¯•å…¶ä»–åº”ç”¨ä¼šæŠ›å¼‚å¸¸<code>unable to start the exception thread</code>ã€‚é»˜è®¤çš„debugserverç¼ºå°‘<code>task_for_pid()</code>æƒé™ï¼Œå› æ­¤éœ€è¦ç»™debugserverèµ‹äºˆtask_for_pidæƒé™ã€‚â€”â€”è¿™æ˜¯ç½‘ä¸Šæ‘˜æŠ„çš„è¯</p>
<p>æˆ‘å‘ç°ç½‘ä¸Šé…ç½®debugserverçš„æ–¹æ³•å·²ç»è¿‡æ—¶ï¼Œä¸é€‚ç”¨iOS13ç³»ç»Ÿï¼Œå¯¼è‡´debugserverè¿˜æ˜¯æ— æ³•è°ƒè¯•ä¸‰æ–¹APPï¼Œæ‰€ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹æ³•è¿›è¡Œã€‚</p>
<p><strong>1ã€ æ–°å»ºä¸€ä¸ªæ–‡ä»¶åä¸ºent.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">plist</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span> <span class="meta-string">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">&quot;1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.backboardd.debugapplications<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.backboardd.launchapplications<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.diagnosticd.diagnostic<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.frontboard.debugapplications<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.frontboard.launchapplications<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.security.network.client<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.security.network.server<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.springboard.debugapplications<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.system-task-ports<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>get-task-allow<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>platform-application<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>run-unsigned-code<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>task_for_pid-allow<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>2ã€ç”¨ldidå¯¹debugserverç­¾å èµ‹äºˆæƒé™</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ldid -Sxmlå…¨è·¯å¾„ debugserverå…¨è·¯å¾„`</span><br><span class="line">ä¾‹å¦‚ï¼š`ldid -Sent.xml debugserver</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¦SSHè¿å…¥iPhoneæ‰‹æœºæ‰§è¡Œå‘½ä»¤ï¼šéœ€è¦è¶Šç‹±æ‚¨çš„iPhone,ä¸ä¼šçš„è¯·å»çœ‹ <a target="_blank" rel="noopener" href="https://mrmad.com.tw/category/jb/jailbreak">ç–¯å…ˆç”Ÿè¶Šç‹±</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¼€å¯ç«¯å£è½¬å‘,æ•°æ®çº¿è¿SSH</span></span><br><span class="line">iproxy 2222 44        <span class="comment">#é»˜è®¤ç”¨Checkra1nè¶Šç‹±çš„ç«¯å£å·ä¸º44ï¼Œå…¶ä½™çš„é»˜è®¤ä¸º22</span></span><br><span class="line"><span class="comment">#è¿å…¥iPhone SSH</span></span><br><span class="line">ssh root@localhost -p 2222 <span class="comment">#iPhoneé»˜è®¤sshå¯†ç ,alpine</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ‡æ¢åˆ°debugserverå­˜åœ¨çš„ç›®å½•</span></span><br><span class="line">iPhone:~ root<span class="comment"># cd /Developer/usr/bin/</span></span><br><span class="line">iPhone:/Developer/usr/bin root<span class="comment"># ls</span></span><br><span class="line">DTDeviceArbitration*  ScreenShotr*  axauditd*  debugserver*</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ–°å»ºent.xmlæ–‡ä»¶</span></span><br><span class="line">iPhone:/Developer/usr/bin root<span class="comment"># vim ent.xml   #å°†1ã€é‡Œé¢çš„ent.xmlå†…å®¹å¤åˆ¶è¿›å»ï¼Œå¹¶ä¸”ä¿å­˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æœ€åldidèµ‹äºˆæƒé™</span></span><br><span class="line">iPhone:/Developer/usr/bin root<span class="comment"># ldid -Sent.xml debugserver</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‹·è´åˆ°ç³»ç»Ÿç›®å½•</span></span><br><span class="line">iPhone:/Developer/usr/bin root<span class="comment"># copy ./debugserver /usr/bin</span></span><br></pre></td></tr></table></figure>

<p><img src="iOS13-%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE%E4%B9%8Bdebugserver/%E6%88%AA%E5%B1%8F2020-02-06%E4%B8%8B%E5%8D%887.52.51.png" alt="æˆªå±2020-02-06ä¸‹åˆ7.52.51"></p>
<h3 id="0x01-éªŒè¯debugserver-è¿›è¡ŒåŠ¨æ€è°ƒè¯•"><a href="#0x01-éªŒè¯debugserver-è¿›è¡ŒåŠ¨æ€è°ƒè¯•" class="headerlink" title="#0x01 éªŒè¯debugserver è¿›è¡ŒåŠ¨æ€è°ƒè¯•"></a>#0x01 éªŒè¯debugserver è¿›è¡ŒåŠ¨æ€è°ƒè¯•</h3><p>é…ç½®å¥½iPhoneç«¯çš„debugserveråï¼Œå°±å¯ä»¥åœ¨Macç”µè„‘ä¸Šç”¨lldbè¿œç¨‹è¿›è¡ŒåŠ¨æ€è°ƒè¯•äº†<strong>lldbè°ƒè¯•å¤§å…¨åç»­ä¼šè®²</strong>ï¼Œæ­¤æ¬¡æ³¨é‡debugserverçš„é…ç½®ï¼Œlldbä¸€ç¬”å¸¦ï¼Œåªè¦çŸ¥é“lldbæ˜¯Macä¸Šçš„å®¢æˆ·ç«¯ç”¨æ¥åŠ¨æ€è°ƒè¯•ã€‚</p>
<p>ä»¥è°ƒè¯•Sugram èŠå¤©è½¯ä»¶ä¸ºä¾‹</p>
<p>æ‰‹æœºç«¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹Sugramçš„è¿›ç¨‹ID</span></span><br><span class="line">iPhone:~ root<span class="comment"># ps aux|grep &quot;Sugram&quot;</span></span><br><span class="line">mobile          6542   0.0  2.9  5055392  59136   ??  Ss    8:38PM   0:00.51 /var/containers/Bundle/Application/12CA134A-E92A-4F35-BEAA-542F84A0A39F/Sugram.app/Sugram</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ³¨å…¥æ–¹å¼å¯¹Sugramè¿›è¡Œç›‘å¬</span></span><br><span class="line">iPhone:~ root<span class="comment"># debugserver 127.0.0.1:1234 --attach 6542</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å€™è¢«æ³¨å…¥ç›‘å¬çš„é‚£ä¸ªAPPå°±ä¼šè¿›å…¥å¡æ­»çŠ¶æ€ï¼Œå› ä¸ºdebugserverå·²ç»å¯¹Sugramè¿›è¡Œè°ƒè¯•çŠ¶æ€ã€‚</p>
<p>ç”µè„‘ç«¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å…ˆç”¨iProxy è½¬å‘debugserverç›‘å¬çš„ç«¯å£</span></span><br><span class="line">iproxy 1234 1234</span><br><span class="line"><span class="comment">#è¿›å…¥lldb è¿›è¡Œè¿œç¨‹è°ƒè¯•</span></span><br><span class="line">lldb</span><br><span class="line">(lldb) process connect connect://localhost:1234</span><br></pre></td></tr></table></figure>



<h3 id="0x02-æˆåŠŸï¼"><a href="#0x02-æˆåŠŸï¼" class="headerlink" title="#0x02 æˆåŠŸï¼"></a>#0x02 æˆåŠŸï¼</h3><p>å‡ºç°å¦‚ä¸‹ç”»é¢è¯´æ˜debugserver é…ç½®æ­£ç¡®ï¼Œlldbä¹Ÿå¯ä»¥è¿›è¡ŒåŠ¨æ€è°ƒè¯•äº†ã€‚ğŸ˜ğŸ˜  â€“ä¸“æ³¨é€†å‘ã€ç½‘ç»œå®‰å…¨ Lee</p>
<p><img src="iOS13-%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE%E4%B9%8Bdebugserver/%E6%88%AA%E5%B1%8F2020-02-06%E4%B8%8B%E5%8D%888.48.39.png" alt="æˆªå±2020-02-06ä¸‹åˆ8.48.39"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fucklee</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  















  








  

  

</body>
</html>
